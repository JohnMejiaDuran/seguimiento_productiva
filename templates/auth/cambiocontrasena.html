{% extends "layout.html" %}
{% block content%}
{% if diferentes %}
        <script>
            // Mostrar alerta aquí
            swal({
                title: 'No coinciden',
                text: 'Las contraseñas no coinciden ',
                icon: 'error',
                confirmButtonText: 'OK'
                
            });
        </script>
{% endif %}
<div class="container col-5 mt-5  pb-3 card rounded-3 mx-auto" style="height: 55vh;">
    <form class="card-body container col-12 text-center" action="/confirmar_contrasena" method="POST">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <h2 class="">Cambio de contraseña</h2>
    
        <div class="text-start mt-2">
            <label class="form-label mt-3">Ingrese una nueva contraseña</label> 
            <div class="input-group">
                <input class="container-inputs form-control rounded-pill" type="password" name="new_password" id="new_password" placeholder="Contraseña" required> 
                <button class="btn btn-outline-secondary" type="button" id="togglePassword">
                    <i class="bi bi-eye-fill" id="toggleIcon"></i>
                </button>
            </div>
        </div>
        <div class="text-start mt-2">
            <label class="form-label mt-3">Confirma la contraseña</label>
            <div class="input-group">
                <input class=" container-inputs form-control rounded-pill rounded-right-0" type="password" name="confirm_new_password" id="confirm_new_password" placeholder="Confirmar contraseña" required>
                <button class="btn btn-outline-secondary" type="button" id="toggleConfirmPassword">
                    <i class="bi bi-eye-fill" id="toggleConfirmIcon"></i>
                </button>
            </div>
        </div>
        <div class="mt-3">
            <button type="submit" class="mt-3 btn  btn-success">Guardar</button>
        </div>
    </form>    
</div>
<style>
    body {
        background-color: rgba(128, 128, 128, 0.137);
    }
</style>
<script>
    document.getElementById('togglePassword').addEventListener('click', function() {
        var passwordField = document.getElementById('new_password');
        var toggleIcon = document.getElementById('toggleIcon');

        if (passwordField.type === 'password') {
            passwordField.type = 'text';
            toggleIcon.classList.remove('bi-eye-fill');
            toggleIcon.classList.add('bi-eye-slash-fill');
        } else {
            passwordField.type = 'password';
            toggleIcon.classList.remove('bi-eye-slash-fill');
            toggleIcon.classList.add('bi-eye-fill');
        }
    });

    document.getElementById('toggleConfirmPassword').addEventListener('click', function() {
        var confirmPasswordField = document.getElementById('confirm_new_password');
        var toggleConfirmIcon = document.getElementById('toggleConfirmIcon');

        if (confirmPasswordField.type === 'password') {
            confirmPasswordField.type = 'text';
            toggleConfirmIcon.classList.remove('bi-eye-fill');
            toggleConfirmIcon.classList.add('bi-eye-slash-fill');
        } else {
            confirmPasswordField.type = 'password';
            toggleConfirmIcon.classList.remove('bi-eye-slash-fill');
            toggleConfirmIcon.classList.add('bi-eye-fill');
        }
    });
</script>

{% endblock %}